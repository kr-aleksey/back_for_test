# BackForTest

### REST API backend тестового задания для Frontend разработчика

Проект **BackForTest** разработан для выполнения тестового задания соискателем на должность Frontend разработчика.
Он представляет собой сильно упрощенную систему учета производства.
___

## Модель данных

**BackForTest** имеет всего четыре сущности:

- User - пользователь системы
- Nomenclature - номенклатура (справочник материалов и продукции)
- WorkOrder - наряд-заказ (документ на производство)
- Product - продукция произведенная по наряду

***User*** - объекты модели User участвуют только в процессе авторизации. Другие сущности **BackForTest** не имеют
связей с User.

***Nomenclature*** - справочник номенклатуры. Объекты номенклатуры используются в наряде-заказе для указания материала
используемого для производства и производимого продукта.

Поля:

- id - integer - ID
- code - string - код номенклатуры, задается пользователем
- name - string - наименование номенклатуры

***WorkOrder*** - документ заказ-наряд на производство. Пользователь создает заказ-наряд. Исполнитель производит по
нему продукцию. По каждому наряду производится одна или несколько единиц продукции.

Поля:

- id - integer - ID
- number - string - номер наряда, задается пользователем
- start-date - date - планируемая дата начала производства, задается пользователем
- is_finished - bool - признак завершения производства
- material - ForeignKey(Nomenclature.id) - сырье для производства
- product - ForeignKey(Nomenclature.id) - производимая продукция

***Product*** - продукция произведенная по наряду. Каждый объект продукции связан с заказом-нарядом и имеет свои
индивидуальные характеристики - вес и дату производства.

Поля:

- id - integer - ID
- work_order - ForeignKey(WorkOrder.id) - наряд, по которому был произведен продукт
- serial - string - генерируется автоматически на backend
- weight - decimal - масса продукта, кг.
- date - datetime - устанавливается автоматически на backend

___

## API

API **BackForTest** имеет следующие endpoints:

- /api/v1/api-token-auth/ - авторизация, получение токена
- /api/v1/nomenclatures/ - справочник номенклатуры (материал и продукция для заказа-наряда)
- /api/v1/nomenclatures/<nomenclature_id>/ - работа с объектом номенклатуры по ID
- /api/v1/workorders/ - заказы-наряды (список существующих нарядов, создание новых)
- /api/v1/workorders/<work_order_id>/ - работа с заказом-нарядом по ID (редактирование наряда и подробные сведения)
- /api/v1/workorders/<work_order_id>/products/ - продукция, произведенная по наряду-заказу
- /api/v1/workorders/<work_order_id>/products/<product_id> - работа с произведенными объектами продукции

**Browsable API даст вам больше информации.** Для этого зайдите на endpoint url через браузер. Для получения доступа
нужно
авторизоваться в админке - /admin/. Все endpoints, кроме /api/v1/api-token-auth/ доступны только авторизованным
пользователям. В header "Authorization" ваших запросов должен быть токен с префиксом "Token ", полученный при
авторизации (например Authorization:
Token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b).

___

## Еще...

Проект загружен на github вместе с базой данных для упрощения вашего старта. БД уже содержит объекты всех сущностей для
примера. Создан пользователь *username = 'admin', password = '123'*. По адресу /admin/ доступна админка.

___

## Задание

Вам необходимо написать frontend для **BackForTest**. Вы должны предоставить пользователю интерфейс для его работы.

### Сценарий работы пользователей
Производство начинается с заказа-наряда. Заказ-наряд - это задание для исполнителя.
Производственный процесс представляет собой конвейер, на котором производится продукция по заказу-наряду. Каждая
единица произведенной продукции должна быть сохранена в базе данных (создан объект Product). Каждая единица продукта
имеет свою массу, которую оператор вводит и создает объект нажатием на кнопку "Сохранить". После этого должна открыться 
печатная форма с этикеткой для продукта. Этикетка должна содержать название продукции, серийный номер, и дату 
производства.

Пользователь программы может работать в роли постановщика задач или в роли исполнителя. Для упрощения в системе один
пользователь admin является и постановщиком задач, и исполнителем.

В роли постановщика задач пользователь создает заказ-наряд на производство. При этом он указывает следующие параметры:

1. Материал (из справочника номенклатуры) из которого должна быть произведена продукция;
2. Продукция (из справочника номенклатуры), которую нужно произвести;
3. Планируемая дата производства.

В роли исполнителя пользователь производит продукцию по наряду. Он вводит вес каждого произведенного продукта, 
сохраняет его и распечатывает этикетку.

### Интерфейс

Frontend должен иметь следующие пользовательские интерфейсы: авторизация, список нарядов, создание и редактирование
нарядов, производство продукции по наряду, печать этикетки для произведенной продукции.

В интерфейсе со списком нарядов пользователь должен иметь возможность открыть наряд-заказ для его редактирования или
для его исполнения. Реализуйте поиск и фильтрацию нарядов, используя возможности API.

В интерфейсе для создания и редактирования заказа-наряда пользователь должен иметь возможность выбрать материал и
производимую продукцию, введя код или название номенклатуры (динамический поиск через API). Планируемая дата 
производства должна выбираться из календаря.

Интерфейс исполнителя наряда должен иметь поле для ввода массы и кнопку "Сохранить",
а также список уже произведенной продукции по-текущему наряду-заказу.

Номенклатуру можно добавлять через админку. Реализовывать для этого отдельный интерфейс не требуется.

### Требования

Frontend должен работать в браузере Google Chrome на PC. В разработке используйте библиотеку React.

## Запуск BackForTest на PC

* Установите Python 3.10

```
https://www.python.org/downloads/
```

* Клонируйте репозиторий и перейдите в созданную паку в командной строке:

```
git clone https://github.com/kr-aleksey/back_for_test
cd back_for_test
```

* Создайте и активируйте виртуальное окружение:

```
python -m venv venv
venv\scripts\activate
```

* Установите зависимости из файла requirements.txt:

```
python -m pip install --upgrade pip
pip install -r requirements.txt
```

* Запустить проект:

```
python manage.py runserver
```

